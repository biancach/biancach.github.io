<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WPA Fundraiser</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 30px 200px 30px 30px; /* Adjusted padding */
            background-color: #f9f9f9;
        }
        .container {
            display: flex;
            align-items: flex-start; /* Align to top */
            max-width: auto;
            margin: 0 auto;
        }
        .content {
            flex: 1;
            padding-left: 20px;
            padding-right: 20px;
        }
        .thermometer-container {
            width: 150px; /* Made the thermometer wider */
            height: 400px; /* Increased height */
            background-color: #e0e0e0;
            border-radius: 10px;
            position: relative;
            margin-top: 20px;
        }
        .thermometer {
            background-color: rgb(176, 49, 74); /* Updated color */
            width: 100%;
            height: 0;
            border-radius: 10px 10px 0 0;
            position: absolute;
            bottom: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #ffffff; /* White text color for better contrast */
            font-size: 16px;
            font-weight: bold;
            box-sizing: border-box;
        }
        .thermometer-text {
            position: absolute;
            top: -30px; /* Adjusted value to place the text above the thermometer */
            width: 100%;
            text-align: center;
            padding: 0 10px;
            border-radius: 5px;
            color: #000000; /* Black text color for better contrast */
            font-size: 16px;
            font-weight: bold;
        }
        .thermometer-markers {
            position: absolute;
            right: -60px; /* Adjusted to match the new width */
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-end;
            padding: 5px 0; /* Adjusted to move markers up by 5px */
        }
        .thermometer-markers span {
            font-size: 14px;
        }
        .thermometer-lines {
            position: absolute;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Ensure lines don't interfere with thermometer height adjustment */
        }
        .thermometer-lines div {
            position: absolute;
            width: 100%;
            height: 1px;
            background-color: rgba(0, 0, 0, 0.3); /* Light gray line color */
            left: 0;
        }
        .line-90 { top: 10%; }
        .line-80 { top: 20%; }
        .line-70 { top: 30%; }
        .line-60 { top: 40%; }
        .line-50 { top: 50%; }
        .line-40 { top: 60%; }
        .line-30 { top: 70%; }
        .line-20 { top: 80%; }
        .line-10 { top: 90%; }
        .line-0  { top: 100%; }
        h1 {
            font-size: 28px;
            color: #333;
        }
        p {
            font-size: 16px;
            line-height: 1.5;
            color: #555;
        }
        a {
            color: blue;
        }
        a:visited {
            color: blue;
        }
        .graph-container {
            margin-top: 40px;
            position: relative;
            width: 100%; /* Make the container full width */
        }
        canvas {
            border: 1px solid #ddd;
            background-color: #ffffff;
            display: block; /* Ensure canvas takes the full width */
        }
        .axis-label {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            text-align: center;
        }
        .x-axis-label {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 5px;
        }
        .y-axis-label {
            position: absolute;
            top: 75%;
            left: 30px;
            transform: translateY(-50%) rotate(-90deg);
            transform-origin: left top;
            margin-left: 10px;
        }
        .y-axis-label.money {
            left: auto;
            right: 30px;
            top: 70%;
            transform: translateY(-50%) rotate(90deg);
            transform-origin: right bottom;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1>Fundraiser for the Women's Prison Association!</h1>
            <p>On November 3rd, 2024, I will be running 26.2 miles for the Women's Prison Association. Please consider donating :)</p>
            <p>The Women's Prison Association (WPA) provides support for formerly incarcerated women and alternatives for currently incarcerated women. For the last 175 years, the WPA has addressed many of the challenges that lead to incarceration by providing women with case management, employment assistance, and housing among other things. I am happy to chat with you about the cause if you want to learn more.</p>
            <p>My goal is to raise $3000. If you want me to double your donation via corporate matching, you can Venmo me <a href="https://venmo.com/u/BiancaChamp">@BiancaChamp</a>, and I will donate the money in your honor. Otherwise, <a href="https://givebutter.com/wpamarathon2024/biancachampenois">here</a> is the main donation page.</p>
        </div>
        <div class="thermometer-container">
            <div class="thermometer" id="thermometer">
                <div class="thermometer-text"> <!-- Text container for thermometer -->
                    <!-- Text will be updated by JavaScript -->
                </div>
            </div>
            <div class="thermometer-markers">
                <span>$3000</span>
                <span>$2700</span>
                <span>$2400</span>
                <span>$2100</span>
                <span>$1800</span>
                <span>$1500</span>
                <span>$1200</span>
                <span>$900</span>
                <span>$600</span>
                <span>$300</span>
                <span>$0</span>
            </div>
            <div class="thermometer-lines">
                <div class="line-90"></div>
                <div class="line-80"></div>
                <div class="line-70"></div>
                <div class="line-60"></div>
                <div class="line-50"></div>
                <div class="line-40"></div>
                <div class="line-30"></div>
                <div class="line-20"></div>
                <div class="line-10"></div>
                <div class="line-0"></div>
            </div>
        </div>
    </div>
    <div class="graph-container">
        <canvas id="myGraph"></canvas>
        <div class="x-axis-label axis-label">Weeks</div>
        <div class="y-axis-label axis-label">Miles per Week</div>
        <div class="y-axis-label money axis-label">Money Raised $</div>
    </div>
    
    <script>
        function updateThermometer(donationAmount) {
            const goalAmount = 3000; // Total goal amount
            const thermometer = document.getElementById('thermometer');
            const thermometerText = thermometer.querySelector('.thermometer-text');
            
            // Calculate percentage of goal reached
            const percentage = (donationAmount / goalAmount) * 100;

            // Set thermometer height and text
            thermometer.style.height = percentage + '%';
            thermometerText.textContent = `$${donationAmount} (${percentage.toFixed(2)}%)`;
        }

        // Example usage
        updateThermometer(50); // Set this to the current donation amount
        
        function drawGraph() {
            const canvas = document.getElementById('myGraph');
            const ctx = canvas.getContext('2d');

            // Set canvas size based on container
            canvas.width = document.querySelector('.graph-container').offsetWidth;
            canvas.height = 300;

            const weeks = Array.from({ length: 16 }, (_, i) => i + 1);
            const miles = [21, 20, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
            const money = [0, 0, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

            const xoffset = 200
            const yoffset = 100
            const xAxisWidth = canvas.width - xoffset;
            const yAxisHeight = canvas.height - yoffset;

            // Draw X and Y axes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;

            // X-axis
            ctx.beginPath();
            ctx.moveTo(xoffset/2, yAxisHeight + yoffset/2);
            ctx.lineTo(xAxisWidth + xoffset/2, yAxisHeight + yoffset/2);
            ctx.stroke();

            // Y-axis for miles
            ctx.beginPath();
            ctx.moveTo(xoffset/2, yoffset/2);
            ctx.lineTo(xoffset/2, yAxisHeight + yoffset/2);
            ctx.stroke();

            // Draw miles data
            ctx.strokeStyle = '#1c2850';
            ctx.lineWidth = 2;

            ctx.beginPath();
            weeks.forEach((week, index) => {
                const x = xoffset/2 + (xAxisWidth / (weeks.length - 1)) * index;
                const y = yAxisHeight + yoffset/2 - (yAxisHeight / (xoffset/2)) * miles[index];
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();

            // Draw money data
            ctx.strokeStyle = '#b0314a';
            ctx.lineWidth = 2;

            ctx.beginPath();
            weeks.forEach((week, index) => {
                const x = xoffset/2 + (xAxisWidth / (weeks.length - 1)) * index;
                const y = yAxisHeight + yoffset/2 - (yAxisHeight / 3000) * money[index];
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();

            // Draw X-axis labels
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            weeks.forEach((week, index) => {
                const x = xoffset/2 + (xAxisWidth / (weeks.length - 1)) * index;
                ctx.fillText(`${week}`, x, yAxisHeight + yoffset/2 + 20);
            });

            // Draw Y-axis labels for miles
            ctx.fillStyle = '#1c2850';
            ctx.font = '12px Arial';
            const maxmiles = 50
            for (let i = 0; i <= maxmiles; i += 5) {
                const y = yAxisHeight - (yAxisHeight / maxmiles) * i;
                ctx.fillText(i, xoffset/2 - 20, y+yoffset/2);
            }

            // Draw Y-axis labels for money
            ctx.fillStyle = '#b0314a';
            ctx.font = '12px Arial';
            for (let i = 0; i <= 3000; i += 300) {
                const y = yAxisHeight - (yAxisHeight / 3000) * i;
                ctx.fillText(`$${i}`, xoffset/2 + xAxisWidth + 10, y+yoffset/2);
            }
        }

        drawGraph();
        window.addEventListener('resize', drawGraph); // Redraw on window resize

                
    </script>
</body>
</html>
